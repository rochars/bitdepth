/*
 bitdepth Copyright (c) 2017-2018 Rafael da Silva Rocha.
*/
var m="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)},p="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function q(a,d){if(d){var b=p;a=a.split(".");for(var c=0;c<a.length-1;c++){var k=a[c];k in b||(b[k]={});b=b[k]}a=a[a.length-1];c=b[a];d=d(c);d!=c&&null!=d&&m(b,a,{configurable:!0,writable:!0,value:d})}}
q("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}});q("Array.prototype.includes",function(a){return a?a:function(a,b){var c=this;c instanceof String&&(c=String(c));var d=c.length;b=b||0;for(0>b&&(b=Math.max(b+d,0));b<d;b++){var l=c[b];if(l===a||Object.is(l,a))return!0}return!1}});
window.bitDepth=function(){function a(e,a){return e=0<e?parseInt(e/a.c*a.a,10):parseInt(e/a.f*a.b,10)}function d(e,a){return parseInt(0<e?e*a.a:e*a.b,10)}function b(a,b){return 0<a?a/b.c:a/b.f}function c(a){n[0]=a;return n[0]}function k(e,g){function h(a){return a}e!=g&&(["32f","64"].includes(e)?["32f","64"].includes(g)?h=c:h=d:h=["32f","64"].includes(g)?b:a);return h}function l(a){if("32f"!=a&&"64"!=a&&("8">parseInt(a,10)||"53"<parseInt(a,10)))throw Error("Invalid bit depth.");}var n=new Float32Array(1);
return function(a,b,c,d){l(b);l(c);var e=k(b,c),h={f:Math.pow(2,parseInt(b,10))/2,b:Math.pow(2,parseInt(c,10))/2,c:Math.pow(2,parseInt(b,10))/2-1,a:Math.pow(2,parseInt(c,10))/2-1},g=a.length;if("8"==b)for(var f=0;f<g;f++)d[f]=a[f]-=128;if("32f"==b||"64"==b)for(b=a.length,f=0;f<b;f++)1<a[f]?a[f]=1:-1>a[f]&&(a[f]=-1);for(b=0;b<g;b++)d[b]=e(a[b],h);if("8"==c)for(a=0;a<g;a++)d[a]=d[a]+=128}}();
